{% extends "base.html" %}
{% block page %}
    <!-- Content -->
    <div class="bg-light-subtle">
        <div class="login-background">
            <input type="hidden" id="ui_user" value="{{ 'yes' if ui_user else 'no' }}" />
            <input type="hidden"
                   id="ui_reverse_proxy"
                   value="{{ 'yes' if ui_reverse_proxy else 'no' }}" />
            <input type="hidden"
                   id="csrf_token"
                   name="csrf_token"
                   value="{{ csrf_token() }}" />
            <input type="hidden" name="theme" value="light" />
            <div class="container-xxl">
                <div class="position-fixed top-0 end-0 m-5" style="z-index: 1050;">
                    <!-- prettier-ignore -->
                    <div class="d-flex justify-content-end align-items-center mb-5">
                        <div class="toggle-container d-flex align-items-center bg-white p-2 rounded-pill shadow-lg me-3">
                            <label class="setting-checkbox-label pe-2 mb-0 fw-bold text-secondary"
                                   for="dark-mode-toggle">Light</label>
                            <div class="form-switch">
                                <input id="dark-mode-toggle"
                                       name="dark-mode-toggle"
                                       class="form-check-input"
                                       type="checkbox"
                                       role="switch"
                                       {% if theme == "dark" %}checked{% endif %} />
                            </div>
                            <label class="setting-checkbox-label mb-0 fw-bold text-secondary"
                                   for="dark-mode-toggle">Dark</label>
                        </div>
                        <ul class="d-flex mb-0 list-unstyled">
                            <li class="me-3">
                                <a role="button"
                                   class="btn btn-sm btn-outline-dark d-flex align-items-center h-100"
                                   aria-pressed="true"
                                   href="https://panel.bunkerweb.io/order/support/?utm_campaign=self&utm_source=ui"
                                   target="_blank"
                                   rel="noopener">
                                    <span class="bx bx-help-circle me-0 me-md-2"></span>
                                    <span class="d-none d-md-inline">Need help?</span>
                                </a>
                            </li>
                            <li class="position-relative">
                                <button id="news-button"
                                        type="button"
                                        class="btn btn-sm btn-dark text-uppercase d-flex align-items-center"
                                        aria-pressed="true"
                                        data-bs-toggle="offcanvas"
                                        data-bs-target="#side-offcanvas-news"
                                        aria-controls="side-offcanvas-news">
                                    <span class="bx bx-news me-0 me-md-2"></span>
                                    <span class="d-none d-md-inline">News</span>
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="authentication-wrapper authentication-basic container-p-y">
                    <div class="authentication-inner w-100">
                        <!-- Setup -->
                        <div class="card px-sm-6 px-0">
                            <div class="card-header d-flex justify-content-between align-items-center mw-100">
                                <div class="pt-1">
                                    <h4 class="card-title d-inline border fw-bold p-2 don-jose">Setup Wizard</h4>
                                    <p class="card-subtitle text-muted text-truncate mt-3">Follow the steps to complete the setup wizard</p>
                                </div>
                                <div class="app-brand justify-content-center">
                                    <span class="app-brand-logo login">
                                        <i class="bx bx-lg bxs-magic-wand bx-tada"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="card-body p-2 pb-8">
                                <div class="d-flex justify-content-center">
                                    <nav class="p-3 template-steps-container align-items-center mw-100 rounded-top"
                                         aria-label="breadcrumb">
                                        <ol class="breadcrumb nav nav-scroller mb-0 flex-nowrap overflow-hidden active"
                                            role="tablist">
                                            <li class="breadcrumb-item nav-link d-flex align-items-center pe-0">
                                                <button class="btn btn-primary pt-3 pb-3 me-3 active"
                                                        role="tab"
                                                        data-bs-toggle="tab"
                                                        data-bs-target="#navs-steps-1"
                                                        aria-controls="navs-steps-1"
                                                        aria-selected="true">1</button>
                                                <div class="text-nowrap">
                                                    <div class="fw-bold text-primary">Admin User</div>
                                                    <small class="text-muted">Create Admin User</small>
                                                </div>
                                            </li>
                                            <li class="breadcrumb-item nav-link d-flex align-items-center pe-0">
                                                <button class="btn btn-primary pt-3 pb-3 me-3 disabled"
                                                        role="tab"
                                                        data-bs-toggle="tab"
                                                        data-bs-target="#navs-steps-2"
                                                        aria-controls="navs-steps-2">2</button>
                                                <div class="text-nowrap">
                                                    <div class="fw-bold text-muted">UI specific Settings</div>
                                                    <small class="text-muted">Configure web UI specific settings</small>
                                                </div>
                                            </li>
                                            <li class="breadcrumb-item nav-link d-flex align-items-center pe-0">
                                                <button class="btn btn-primary pt-3 pb-3 me-3 disabled"
                                                        role="tab"
                                                        data-bs-toggle="tab"
                                                        data-bs-target="#navs-steps-3"
                                                        aria-controls="navs-steps-3">3</button>
                                                <div class="text-nowrap">
                                                    <div class="fw-bold text-muted">Overview</div>
                                                    <small class="text-muted">Review your settings</small>
                                                </div>
                                            </li>
                                        </ol>
                                    </nav>
                                </div>
                                <div class="tab-content p-3 align-items-center mw-100">
                                    <div id="navs-steps-1"
                                         class="ps-2 pe-2 tab-pane fade show active"
                                         role="tabpanel"
                                         data-step="1"
                                         aria-labelledby="navs-steps-1-tab">
                                        <div class="pt-1 pb-4">
                                            <h5 class="mb-1 fw-bold">Admin User</h5>
                                            <p class="card-subtitle text-muted">Create Admin User</p>
                                        </div>
                                        {% if not ui_user %}
                                            <div class="row pb-0">
                                                <div class="col-12 col-md-6 pb-3">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <label id="label-username"
                                                               for="username"
                                                               class="form-label fw-semibold text-truncate">
                                                            Admin Username
                                                        </label>
                                                        <div class="d-flex align-items-center">
                                                            <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="Username must be between 1 and 256 characters long">
                                                                <span class="bx bx-question-mark bx-xs"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <input id="username"
                                                           name="username"
                                                           type="text"
                                                           class="form-control plugin-setting mt-1"
                                                           aria-labelledby="label-username"
                                                           pattern="^.{1,256}$"
                                                           required />
                                                </div>
                                                <div class="col-12 col-md-6 pb-3">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <label id="label-username"
                                                               for="username"
                                                               class="form-label fw-semibold text-truncate">
                                                            Admin Email<span id="email-optional"> (<i>optional</i>)</span>
                                                        </label>
                                                        <div class="d-flex align-items-center">
                                                            <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="Email must be between 1 and 256 characters long">
                                                                <span class="bx bx-question-mark bx-xs"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <input id="email"
                                                           name="email"
                                                           type="email"
                                                           placeholder="John.doe@example.com"
                                                           class="form-control plugin-setting mt-1"
                                                           aria-labelledby="label-email" />
                                                </div>
                                                <div class="col-12 col-md-6 pb-3">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <label id="label-password"
                                                               for="password"
                                                               class="form-label fw-semibold text-truncate">
                                                            Admin Password
                                                        </label>
                                                        <div class="d-flex align-items-center">
                                                            <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="Password must have at least 8 characters, 1 uppercase letter, 1 number, and 1 special character">
                                                                <span class="bx bx-question-mark bx-xs"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="form-password-toggle">
                                                        <div class="input-group input-group-merge mt-1">
                                                            <input class="form-control plugin-setting"
                                                                   type="password"
                                                                   id="password"
                                                                   name="password"
                                                                   placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                                                                   aria-labelledby="label-password"
                                                                   autocomplete="off"
                                                                   required
                                                                   pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z0-9]).{8,}$" />
                                                            <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
                                                        </div>
                                                    </div>
                                                    <div class="mt-3">
                                                        <ul class="list-unstyled" id="password-requirements">
                                                            <li id="length-check">
                                                                <i class="bx bx-x text-danger"></i> Your password must
                                                                have at least 8 characters.
                                                            </li>
                                                            <li id="uppercase-check">
                                                                <i class="bx bx-x text-danger"></i> Your password must
                                                                have at least 1 uppercase letter.
                                                            </li>
                                                            <li id="number-check">
                                                                <i class="bx bx-x text-danger"></i> Your password must
                                                                have at least 1 number.
                                                            </li>
                                                            <li id="special-check">
                                                                <i class="bx bx-x text-danger"></i> Your password must
                                                                have at least 1 special character.
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6 pb-3">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <label id="label-confirm_password"
                                                               for="confirm_password"
                                                               class="form-label fw-semibold text-truncate">
                                                            Confirm Password
                                                        </label>
                                                        <div class="d-flex align-items-center">
                                                            <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="Confirm password must match the password">
                                                                <span class="bx bx-question-mark bx-xs"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="form-password-toggle">
                                                        <div class="input-group input-group-merge mt-1">
                                                            <input class="form-control plugin-setting"
                                                                   type="password"
                                                                   id="confirm_password"
                                                                   name="confirm_password"
                                                                   placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                                                                   aria-labelledby="label-confirm_password"
                                                                   autocomplete="off"
                                                                   required
                                                                   pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z0-9]).{8,}$" />
                                                            <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- <div class="pt-1 pb-4">
                                            <h5 class="mb-1 fw-bold">Enable 2FA</h5>
                                            <p class="card-subtitle text-muted">Enable Two-Factor Authentication (Strongly Recommended)</p>
                                        </div>
                                        <div class="col-12 pb-3 d-flex justify-content-center">
                                            <div class="g-3 w-75">
                                                <div class="d-flex justify-content-center">
                                                    <img class="img-fluid" src="{{ totp_qr_image }}" alt="2FA QR Code" height="200" width="200" />
                                                </div>
                                                <div class="form-password-toggle">
                                                    <label for="secret_token" class="form-label text-start d-block">Secret Token</label>
                                                    <div class="input-group input-group-merge">
                                                        <input type="password" id="secret_token" name="secret_token" class="form-control" placeholder="Secret Token" value="{{ totp_secret }}" readonly />
                                                        {% if request.is_secure %}
                                                            <span class="input-group-text cursor-pointer copy-to-clipboard">
                                                                <i class="bx bx-copy-alt"></i>
                                                            </span>
                                                        {% endif %}
                                                        <span class="input-group-text cursor-pointer">
                                                            <i class="bx bx-hide"></i>
                                                        </span>
                                                    </div>
                                                    <small class="form-text text-muted">Save it in a safe place, you will need the generated code to setup your 2FA in the last step.</small>
                                                </div>
                                            </div>
                                        </div> -->
                                            </div>
                                        {% else %}
                                            <p class="text-center relative w-full p-2 text-primary rounded-lg fw-bold">
                                                🧑‍🚀 An admin user already exists, please proceed to the next step
                                            </p>
                                        {% endif %}
                                    </div>
                                    <div id="navs-steps-2"
                                         class="ps-2 pe-2 tab-pane fade"
                                         role="tabpanel"
                                         data-step="2"
                                         aria-labelledby="navs-steps-2-tab">
                                        <div class="pt-1 pb-4">
                                            <h5 class="mb-1 fw-bold">UI specific Settings</h5>
                                            <p class="card-subtitle text-muted">Configure web UI specific settings</p>
                                        </div>
                                        {% if not ui_reverse_proxy %}
                                            <div class="row pb-0">
                                                <div class="col-12 pb-6">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <label id="label-SERVER_NAME"
                                                               for="SERVER_NAME"
                                                               class="form-label fw-semibold text-truncate">
                                                            Server name
                                                        </label>
                                                        <div class="d-flex align-items-center">
                                                            <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="The server name of the service">
                                                                <span class="bx bx-question-mark bx-xs"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <input id="SERVER_NAME"
                                                           name="SERVER_NAME"
                                                           type="text"
                                                           placeholder="www.example.com"
                                                           value="www.example.com"
                                                           class="form-control plugin-setting mt-1"
                                                           aria-labelledby="label-SERVER_NAME"
                                                           pattern="^.+$"
                                                           required />
                                                </div>
                                                <h6 class="mt-2 mb-2 fw-bold">Reverse Proxy</h6>
                                                <div class="col-12 col-md-6 pb-6">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <label id="label-REVERSE_PROXY_HOST"
                                                               for="REVERSE_PROXY_HOST"
                                                               class="form-label fw-semibold text-truncate">
                                                            UI Host
                                                        </label>
                                                        <div class="d-flex align-items-center">
                                                            {% if ui_host %}
                                                                <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                      data-bs-toggle="tooltip"
                                                                      data-bs-placement="top"
                                                                      data-bs-original-title="From UI_HOST environment variable">
                                                                    <span class="bx bx-globe bx-xs"></span>
                                                                </span>
                                                            {% endif %}
                                                            <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="The host that will be used for the reverse proxy">
                                                                <span class="bx bx-question-mark bx-xs"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <input id="REVERSE_PROXY_HOST"
                                                           name="REVERSE_PROXY_HOST"
                                                           type="text"
                                                           value="{{ ui_host }}"
                                                           class="form-control plugin-setting mt-1"
                                                           aria-labelledby="label-REVERSE_PROXY_HOST"
                                                           pattern="^.+$"
                                                           required />
                                                </div>
                                                <div class="col-12 col-md-6 pb-6">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <label id="label-username"
                                                               for="username"
                                                               class="form-label fw-semibold text-truncate">
                                                            UI URL
                                                        </label>
                                                        <div class="d-flex align-items-center">
                                                            <span class="badge badge-center rounded-pill bg-warning text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="We recommend using a random URL">
                                                                <span class="bx bx-shield bx-xs"></span>
                                                            </span>
                                                            <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                  data-bs-toggle="tooltip"
                                                                  data-bs-placement="top"
                                                                  data-bs-original-title="The URL that will be used for the reverse proxy">
                                                                <span class="bx bx-question-mark bx-xs"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <input id="REVERSE_PROXY_URL"
                                                           name="REVERSE_PROXY_URL"
                                                           type="text"
                                                           value="/"
                                                           class="form-control plugin-setting mt-1"
                                                           aria-labelledby="label-REVERSE_PROXY_URL"
                                                           pattern="^.*$" />
                                                </div>
                                            </div>
                                            <div class="container">
                                                <!-- Nav Tabs -->
                                                <ul class="nav nav-tabs nav-fill">
                                                    <li class="nav-item">
                                                        <button class="nav-link active"
                                                                id="lets-encrypt-tab"
                                                                data-bs-toggle="tab"
                                                                data-bs-target="#lets-encrypt"
                                                                type="button"
                                                                role="tab"
                                                                aria-controls="lets-encrypt"
                                                                aria-selected="true">Let's Encrypt</button>
                                                    </li>
                                                    <li class="nav-item">
                                                        <button class="nav-link"
                                                                id="custom-certificate-tab"
                                                                data-bs-toggle="tab"
                                                                data-bs-target="#custom-certificate"
                                                                type="button"
                                                                role="tab"
                                                                aria-controls="custom-certificate"
                                                                aria-selected="false">Custom Certificate</button>
                                                    </li>
                                                </ul>
                                                <!-- Tab Content -->
                                                <div class="tab-content">
                                                    <!-- Let's Encrypt Tab -->
                                                    <div class="tab-pane fade show active"
                                                         id="lets-encrypt"
                                                         role="tabpanel"
                                                         aria-labelledby="lets-encrypt-tab">
                                                        <div class="row pb-0">
                                                            <h6 class="mt-2 mb-2 fw-bold">Let's Encrypt</h6>
                                                            <div class="col-4 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-AUTO_LETS_ENCRYPT"
                                                                           for="AUTO_LETS_ENCRYPT"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Auto Let's Encrypt
                                                                    </label>
                                                                    {% if auto_lets_encrypt == "yes" %}
                                                                        <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="From global configuration">
                                                                            <span class="bx bx-globe bx-xs"></span>
                                                                        </span>
                                                                    {% endif %}
                                                                    <div class="d-flex align-items-center">
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="Whether to automatically request a Let's Encrypt certificate">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div class="form-check form-switch mt-1">
                                                                    <input id="AUTO_LETS_ENCRYPT"
                                                                           name="AUTO_LETS_ENCRYPT"
                                                                           class="form-check-input"
                                                                           type="checkbox"
                                                                           role="switch"
                                                                           aria-labelledby="label-AUTO_LETS_ENCRYPT"
                                                                           {% if auto_lets_encrypt == "yes" %}checked{% endif %} />
                                                                </div>
                                                            </div>
                                                            <div class="col-4 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-USE_LETS_ENCRYPT_STAGING"
                                                                           for="USE_LETS_ENCRYPT_STAGING"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Use Let's Encrypt Staging
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if lets_encrypt_staging == "yes" %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="Whether to use the Let's Encrypt staging environment">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div class="form-check form-switch mt-1">
                                                                    <input id="USE_LETS_ENCRYPT_STAGING"
                                                                           name="USE_LETS_ENCRYPT_STAGING"
                                                                           class="form-check-input"
                                                                           type="checkbox"
                                                                           role="switch"
                                                                           aria-labelledby="label-USE_LETS_ENCRYPT_STAGING"
                                                                           {% if lets_encrypt_staging == "yes" %}checked{% endif %} />
                                                                </div>
                                                            </div>
                                                            <div class="col-4 pb-3"
                                                                 {% if lets_encrypt_challenge == 'http' %} data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="Wildcard certificates are only supported with DNS challenges."{% endif %}>
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-USE_LETS_ENCRYPT_WILDCARD"
                                                                           for="USE_LETS_ENCRYPT_WILDCARD"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Wildcard Certificates
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if lets_encrypt_wildcard == "yes" %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="Create wildcard certificates for all domains. This allows a single certificate to secure multiple subdomains.">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div class="form-check form-switch mt-1">
                                                                    <input id="USE_LETS_ENCRYPT_WILDCARD"
                                                                           name="USE_LETS_ENCRYPT_WILDCARD"
                                                                           class="form-check-input"
                                                                           type="checkbox"
                                                                           role="switch"
                                                                           aria-labelledby="label-USE_LETS_ENCRYPT_WILDCARD"
                                                                           {% if lets_encrypt_wildcard == "yes" %}checked{% endif %}
                                                                           {% if lets_encrypt_challenge == 'http' %}disabled{% endif %} />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-EMAIL_LETS_ENCRYPT"
                                                                           for="EMAIL_LETS_ENCRYPT"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Email for Let's Encrypt
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if email_lets_encrypt %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The email address that will be used for Let's Encrypt">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <input id="EMAIL_LETS_ENCRYPT"
                                                                       name="EMAIL_LETS_ENCRYPT"
                                                                       type="text"
                                                                       placeholder="John.doe@example.com"
                                                                       class="form-control plugin-setting mt-1"
                                                                       aria-labelledby="label-EMAIL_LETS_ENCRYPT"
                                                                       pattern="^.*$" />
                                                            </div>
                                                            <div class="col-md-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-LETS_ENCRYPT_CHALLENGE"
                                                                           for="LETS_ENCRYPT_CHALLENGE"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Challenge Type
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if lets_encrypt_challenge == "dns" %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The challenge type to use for Let's Encrypt (http or dns).">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <select id="LETS_ENCRYPT_CHALLENGE"
                                                                        name="LETS_ENCRYPT_CHALLENGE"
                                                                        class="form-select mt-1"
                                                                        aria-labelledby="label-LETS_ENCRYPT_CHALLENGE">
                                                                    <option value="dns"
                                                                            {% if lets_encrypt_challenge == "dns" %}selected{% endif %}>
                                                                        dns
                                                                    </option>
                                                                    <option value="http"
                                                                            {% if lets_encrypt_challenge == "http" %}selected{% endif %}>
                                                                        http
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div class="col-md-6 pb-3"
                                                                 {% if lets_encrypt_challenge == 'http' %} data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="DNS provider is only supported with DNS challenges."{% endif %}>
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-LETS_ENCRYPT_DNS_PROVIDER"
                                                                           for="LETS_ENCRYPT_DNS_PROVIDER"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        DNS Provider
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if lets_encrypt_dns_provider %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The DNS provider to use for DNS challenges.">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <select id="LETS_ENCRYPT_DNS_PROVIDER"
                                                                        name="LETS_ENCRYPT_DNS_PROVIDER"
                                                                        class="form-select mt-1"
                                                                        aria-labelledby="label-LETS_ENCRYPT_DNS_PROVIDER"
                                                                        {% if lets_encrypt_challenge == 'http' %}disabled{% endif %}>
                                                                    <option value="" {% if not lets_encrypt_dns_provider %}selected{% endif %}></option>
                                                                    <option value="cloudflare"
                                                                            {% if lets_encrypt_dns_provider == "cloudflare" %}selected{% endif %}>
                                                                        cloudflare
                                                                    </option>
                                                                    <option value="digitalocean"
                                                                            {% if lets_encrypt_dns_provider == "digitalocean" %}selected{% endif %}>
                                                                        digitalocean
                                                                    </option>
                                                                    <option value="dnsimple"
                                                                            {% if lets_encrypt_dns_provider == "dnsimple" %}selected{% endif %}>
                                                                        dnsimple
                                                                    </option>
                                                                    <option value="dnsmadeeasy"
                                                                            {% if lets_encrypt_dns_provider == "dnsmadeeasy" %}selected{% endif %}>
                                                                        dnsmadeeasy
                                                                    </option>
                                                                    <option value="gehirn"
                                                                            {% if lets_encrypt_dns_provider == "gehirn" %}selected{% endif %}>
                                                                        gehirn
                                                                    </option>
                                                                    <option value="google"
                                                                            {% if lets_encrypt_dns_provider == "google" %}selected{% endif %}>
                                                                        google
                                                                    </option>
                                                                    <option value="linode"
                                                                            {% if lets_encrypt_dns_provider == "linode" %}selected{% endif %}>
                                                                        linode
                                                                    </option>
                                                                    <option value="luadns"
                                                                            {% if lets_encrypt_dns_provider == "luadns" %}selected{% endif %}>
                                                                        luadns
                                                                    </option>
                                                                    <option value="nsone"
                                                                            {% if lets_encrypt_dns_provider == "nsone" %}selected{% endif %}>
                                                                        nsone
                                                                    </option>
                                                                    <option value="ovh"
                                                                            {% if lets_encrypt_dns_provider == "ovh" %}selected{% endif %}>
                                                                        ovh
                                                                    </option>
                                                                    <option value="rfc2136"
                                                                            {% if lets_encrypt_dns_provider == "rfc2136" %}selected{% endif %}>
                                                                        rfc2136
                                                                    </option>
                                                                    <option value="route53"
                                                                            {% if lets_encrypt_dns_provider == "route53" %}selected{% endif %}>
                                                                        route53
                                                                    </option>
                                                                    <option value="sakuracloud"
                                                                            {% if lets_encrypt_dns_provider == "sakuracloud" %}selected{% endif %}>
                                                                        sakuracloud
                                                                    </option>
                                                                    <option value="scaleway"
                                                                            {% if lets_encrypt_dns_provider == "scaleway" %}selected{% endif %}>
                                                                        scaleway
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div class="col-md-6 pb-3"
                                                                 {% if lets_encrypt_challenge == 'http' %} data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="DNS propagation is only supported with DNS challenges."{% endif %}>
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-LETS_ENCRYPT_DNS_PROPAGATION"
                                                                           for="LETS_ENCRYPT_DNS_PROPAGATION"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        DNS Propagation
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if lets_encrypt_dns_propagation != "default" %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The time to wait for DNS propagation in seconds for DNS challenges.">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <input id="LETS_ENCRYPT_DNS_PROPAGATION"
                                                                       name="LETS_ENCRYPT_DNS_PROPAGATION"
                                                                       type="text"
                                                                       value="{{ lets_encrypt_dns_propagation }}"
                                                                       class="form-control plugin-setting mt-1"
                                                                       aria-labelledby="label-LETS_ENCRYPT_DNS_PROPAGATION"
                                                                       pattern="^(default|\d+)$"
                                                                       {% if lets_encrypt_challenge == 'http' %}disabled{% endif %} />
                                                            </div>
                                                            <div class="col-12 pb-3"
                                                                 {% if lets_encrypt_challenge == 'http' %} data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="Credentials are only supported with DNS challenges."{% endif %}>
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-LETS_ENCRYPT_DNS_CREDENTIAL_ITEMS"
                                                                           for="LETS_ENCRYPT_DNS_CREDENTIAL_ITEMS"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Lets encrypt dns credential items
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="Configuration item that will be added to the credentials.ini file for the DNS provider (e.g. 'cloudflare_api_token 123456') for DNS challenges.">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <textarea id="LETS_ENCRYPT_DNS_CREDENTIAL_ITEMS"
                                                                          name="LETS_ENCRYPT_DNS_CREDENTIAL_ITEMS"
                                                                          class="form-control plugin-setting mt-1"
                                                                          aria-labelledby="label-LETS_ENCRYPT_DNS_CREDENTIAL_ITEMS"
                                                                          pattern="^.*$"
                                                                          {% if lets_encrypt_challenge == 'http' %}disabled{% endif %}>{% for item in lets_encrypt_dns_credential_items %}{{ item }}{% if not loop.last %}\n{% endif %}{% endfor %}</textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- Custom Certificate Tab -->
                                                    <div class="tab-pane fade"
                                                         id="custom-certificate"
                                                         role="tabpanel"
                                                         aria-labelledby="custom-certificate-tab">
                                                        <div class="row pb-0">
                                                            <h6 class="mt-2 mb-2 fw-bold">Custom certificate</h6>
                                                            <div class="col-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-USE_CUSTOM_SSL"
                                                                           for="USE_CUSTOM_SSL"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Use Custom SSL
                                                                    </label>
                                                                    {% if use_custom_ssl == "yes" %}
                                                                        <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="From global configuration">
                                                                            <span class="bx bx-globe bx-xs"></span>
                                                                        </span>
                                                                    {% endif %}
                                                                    <div class="d-flex align-items-center">
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="Whether to use a custom SSL certificate">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div class="form-check form-switch mt-1">
                                                                    <input id="USE_CUSTOM_SSL"
                                                                           name="USE_CUSTOM_SSL"
                                                                           class="form-check-input"
                                                                           type="checkbox"
                                                                           role="switch"
                                                                           aria-labelledby="label-USE_CUSTOM_SSL"
                                                                           {% if use_custom_ssl == "yes" %}checked{% endif %} />
                                                                </div>
                                                            </div>
                                                            <div class="col-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-CUSTOM_SSL_CERT_PRIORITY"
                                                                           for="CUSTOM_SSL_CERT_PRIORITY"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Certificate priority
                                                                    </label>
                                                                    {% if custom_ssl_cert_priority == "data" %}
                                                                        <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="From global configuration">
                                                                            <span class="bx bx-globe bx-xs"></span>
                                                                        </span>
                                                                    {% endif %}
                                                                    <div class="d-flex align-items-center">
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="Choose whether to prioritize the certificate from file path or from base64 data.">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <select id="CUSTOM_SSL_CERT_PRIORITY"
                                                                        name="CUSTOM_SSL_CERT_PRIORITY"
                                                                        class="form-select mt-1"
                                                                        aria-labelledby="label-CUSTOM_SSL_CERT_PRIORITY"
                                                                        {% if use_custom_ssl == "no" %}disabled{% endif %}>
                                                                    <option value="file"
                                                                            {% if custom_ssl_cert_priority == "file" %}selected{% endif %}>
                                                                        file
                                                                    </option>
                                                                    <option value="data"
                                                                            {% if custom_ssl_cert_priority == "data" %}selected{% endif %}>
                                                                        data
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div class="col-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-CUSTOM_SSL_CERT"
                                                                           for="CUSTOM_SSL_CERT"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Custom SSL Certificate
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if custom_ssl_cert %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The custom SSL certificate path">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <input id="CUSTOM_SSL_CERT"
                                                                       name="CUSTOM_SSL_CERT"
                                                                       type="text"
                                                                       placeholder="/tmp/cert.pem"
                                                                       value="{{ custom_ssl_cert }}"
                                                                       class="form-control plugin-setting mt-1"
                                                                       aria-labelledby="label-CUSTOM_SSL_CERT"
                                                                       pattern="^.*$"
                                                                       {% if use_custom_ssl == "no" %}disabled{% endif %} />
                                                            </div>
                                                            <div class="col-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-CUSTOM_SSL_KEY"
                                                                           for="CUSTOM_SSL_KEY"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Custom SSL Key
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if custom_ssl_key %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The custom SSL key path">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <input id="CUSTOM_SSL_KEY"
                                                                       name="CUSTOM_SSL_KEY"
                                                                       type="text"
                                                                       placeholder="/tmp/key.pem"
                                                                       value="{{ custom_ssl_key }}"
                                                                       class="form-control plugin-setting mt-1"
                                                                       aria-labelledby="label-CUSTOM_SSL_KEY"
                                                                       pattern="^.*$"
                                                                       {% if use_custom_ssl == "no" %}disabled{% endif %} />
                                                            </div>
                                                            <div class="col-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-CUSTOM_SSL_CERT_DATA"
                                                                           for="CUSTOM_SSL_CERT_DATA"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Custom SSL Certificate data (base64)
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if custom_ssl_cert_data %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The custom SSL certificate data (base64)">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <input id="CUSTOM_SSL_CERT_DATA"
                                                                       name="CUSTOM_SSL_CERT_DATA"
                                                                       type="text"
                                                                       value="{{ custom_ssl_cert_data }}"
                                                                       class="form-control plugin-setting mt-1"
                                                                       aria-labelledby="label-CUSTOM_SSL_CERT_DATA"
                                                                       pattern="^.*$"
                                                                       {% if use_custom_ssl == "no" %}disabled{% endif %} />
                                                            </div>
                                                            <div class="col-6 pb-3">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <label id="label-CUSTOM_SSL_KEY_DATA"
                                                                           for="CUSTOM_SSL_KEY_DATA"
                                                                           class="form-label fw-semibold text-truncate">
                                                                        Custom SSL Key data (base64)
                                                                    </label>
                                                                    <div class="d-flex align-items-center">
                                                                        {% if custom_ssl_key_data %}
                                                                            <span class="badge badge-center rounded-pill bg-primary-subtle text-dark d-flex align-items-center justify-content-center p-1 me-1"
                                                                                  data-bs-toggle="tooltip"
                                                                                  data-bs-placement="top"
                                                                                  data-bs-original-title="From global configuration">
                                                                                <span class="bx bx-globe bx-xs"></span>
                                                                            </span>
                                                                        {% endif %}
                                                                        <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1"
                                                                              data-bs-toggle="tooltip"
                                                                              data-bs-placement="top"
                                                                              data-bs-original-title="The custom SSL key data (base64)">
                                                                            <span class="bx bx-question-mark bx-xs"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <input id="CUSTOM_SSL_KEY_DATA"
                                                                       name="CUSTOM_SSL_KEY_DATA"
                                                                       type="text"
                                                                       value="{{ custom_ssl_key_data }}"
                                                                       class="form-control plugin-setting mt-1"
                                                                       aria-labelledby="label-CUSTOM_SSL_KEY_DATA"
                                                                       pattern="^.*$"
                                                                       {% if use_custom_ssl == "no" %}disabled{% endif %} />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% else %}
                                            <input id="SERVER_NAME"
                                                   name="SERVER_NAME"
                                                   type="hidden"
                                                   value="{{ ui_reverse_proxy }}" />
                                            <input id="REVERSE_PROXY_URL"
                                                   name="REVERSE_PROXY_URL"
                                                   type="hidden"
                                                   value="{{ ui_reverse_proxy_url }}" />
                                            <p class="text-center relative w-full p-2 text-primary rounded-lg fw-bold">
                                                ↪️ A reverse proxy is already configured for the web interface, please proceed to the next step
                                            </p>
                                        {% endif %}
                                    </div>
                                    <div id="navs-steps-3"
                                         class="ps-2 pe-2 tab-pane fade"
                                         role="tabpanel"
                                         data-step="3"
                                         aria-labelledby="navs-steps-3-tab">
                                        <div class="pt-1 pb-4">
                                            <h5 class="mb-1 fw-bold">Overview</h5>
                                            <p class="card-subtitle text-muted">Review your settings</p>
                                        </div>
                                        <div class="d-flex justify-content-center pb-0 mb-4">
                                            <div class="col-12 col-md-8">
                                                {% set input_required = false %}
                                                {% set input_readonly = true %}
                                                {% if not ui_user %}
                                                    <div class="pb-3">
                                                        <div class="d-flex justify-content-between align-items-center">
                                                            <label id="label-overview_username"
                                                                   for="overview_username"
                                                                   class="form-label fw-semibold text-truncate">
                                                                Admin Username
                                                            </label>
                                                        </div>
                                                        <input id="overview_username"
                                                               name="overview_username"
                                                               type="text"
                                                               class="form-control plugin-setting mt-1"
                                                               aria-labelledby="label-overview_username"
                                                               pattern="^.{1,256}$"
                                                               readonly />
                                                    </div>
                                                    <div class="pb-3">
                                                        <div class="d-flex justify-content-between align-items-center">
                                                            <label id="label-overview_email"
                                                                   for="overview_email"
                                                                   class="form-label fw-semibold text-truncate">
                                                                Admin Email
                                                            </label>
                                                        </div>
                                                        <input id="overview_email"
                                                               name="overview_email"
                                                               type="text"
                                                               class="form-control plugin-setting mt-1"
                                                               aria-labelledby="label-overview_email"
                                                               pattern="^.*$"
                                                               readonly />
                                                    </div>
                                                    <div class="pb-3">
                                                        <div class="d-flex justify-content-between align-items-center">
                                                            <label id="label-overview_password"
                                                                   for="overview_password"
                                                                   class="form-label fw-semibold text-truncate">
                                                                Admin Password
                                                            </label>
                                                        </div>
                                                        <div class="form-password-toggle">
                                                            <div class="input-group input-group-merge mt-1">
                                                                <input class="form-control plugin-setting"
                                                                       type="password"
                                                                       id="overview_password"
                                                                       name="overview_password"
                                                                       aria-labelledby="label-overview_password"
                                                                       autocomplete="off"
                                                                       readonly
                                                                       pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z0-9]).{8,}$" />
                                                                <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                                {% if not ui_reverse_proxy %}
                                                    <div class="pb-3">
                                                        <h6 class="mt-2 mb-2 fw-bold">BunkerWeb UI final URL</h6>
                                                        {% set setting = "SERVER_NAME + REVERSE_PROXY_HOST" %}
                                                        {% set setting_data = {"type": "text", "id": "overview_service_url", "regex": "^.+$"} %}
                                                        {% include "models/input_setting.html" %}
                                                    </div>
                                                {% endif %}
                                            </div>
                                            {% if not ui_user %}
                                                <!-- <div class="col-6">
                                            {% set input_readonly = false %}
                                            <div class="d-flex justify-content-between align-items-center">
                                                <h6 class="mt-2 mb-1 fw-bold">2FA Setup</h6>
                                                <div class="d-flex align-items-center">
                                                    <span class="badge rounded-pill bg-secondary-subtle text-dark d-flex align-items-center justify-content-center p-1" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="The 6-digit code generated by your 2FA app">
                                                        <span class="bx bx-question-mark bx-xs"></span>
                                                    </span>
                                                </div>
                                            </div>
                                            {% set setting = "2FA Code" %}
                                            {% set setting_data = {"type": "number", "id": "2fa_code", "regex": "^[0-9]{6}$"} %}
                                            {% include "models/input_setting.html" %}
                                        </div> -->
                                            {% endif %}
                                        </div>
                                        <div class="d-flex justify-content-center text-center mt-4">
                                            {% if not ui_user %}
                                                <div>
                                                    <i class="bx bx-check text-success"></i> Secure password
                                                </div>
                                                <!-- <div id="overview-2fa-enabled" class="ms-4" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title='Please enter a valid 2FA code in the 2FA setup input'>
                                            <i class="bx bx-question-mark text-warning"></i> 2FA enabled
                                        </div> -->
                                            {% endif %}
                                            {% if not ui_reverse_proxy %}
                                                <div id="overview-unique-server-name" class="ms-4">
                                                    <i class="bx bx-question-mark text-warning"></i> Unique Server Name
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between mt-2 position-relative">
                                <button id="previous-step"
                                        class="btn btn-primary btn-prev previous-step disabled">
                                    <i class="bx bx-chevron-left bx-sm ms-sm-n2"></i>
                                    <span class="align-middle d-sm-inline-block d-none">Previous</span>
                                </button>
                                <div class="join-newsletter position-absolute bottom-0 start-50 translate-middle-x">
                                    <h5 class="mb-3 text-primary">Join the Newsletter</h5>
                                    <form id="setup-newsletter-form"
                                          action="https://bunkerity.us1.list-manage.com/subscribe/post?u=ec5b1577cf427972b9bd491a6&id=37076d9d67"
                                          target="_blank"
                                          method="POST">
                                        <div class="form-check mb-3">
                                            <input id="newsletter-email" type="hidden" name="EMAIL" required />
                                            <input id="setup-subscribe-newsletter"
                                                   type="checkbox"
                                                   class="form-check-input"
                                                   name="newsletter-check"
                                                   required />
                                            <label class="form-check-label" for="privacyPolicyCheck">
                                                I want to subscribe to the newsletter and I've read and agree to the
                                                <a class="fst-italic"
                                                   href="https://www.bunkerity.com/en/privacy-policy?utm_campaign=self&utm_source=ui"
                                                   target="_blank"
                                                   rel="noopener">privacy policy</a>
                                            </label>
                                        </div>
                                    </form>
                                </div>
                                <button type="button" class="btn btn-outline-bw-green save-settings d-none">
                                    <i class="bx bx-save bx-sm ms-sm-n2"></i>
                                    <span class="align-middle d-sm-inline-block d-none ms-sm-1">Setup</span>
                                </button>
                                <button id="next-step" class="btn btn-primary btn-next next-step">
                                    <span class="align-middle d-sm-inline-block d-none me-sm-1">Next</span>
                                    <i class="bx bx-chevron-right bx-sm me-sm-n2"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /Setup -->
                    </div>
                </div>
                <!-- prettier-ignore -->
                {% include "sidebar-news.html" %}
            </div>
        </div>
        <div id="feedback-toast"
             class="bs-toast toast fade bg-{% if theme == 'light' %}white{% else %}dark{% endif %} border"
             role="alert"
             aria-live="assertive"
             aria-atomic="true"
             data-bs-autohide="true"
             data-bs-delay="10000">
            <div class="toast-header d-flex align-items-center">
                <i class="d-block h-auto rounded tf-icons bx bx-xs bx-bell bx-tada me-2"></i>
                <span class="fw-medium me-auto">BunkerWeb Forever</span>
                <small class="text-body-secondary">just now</small>
                <button type="button"
                        class="btn-close"
                        data-bs-dismiss="toast"
                        aria-label="Close"></button>
            </div>
            <div class="toast-body">If you read this, it means that you're curious 👀</div>
        </div>
        {% if not ui_reverse_proxy %}
            <div class="modal fade"
                 id="modal-confirm-dns"
                 data-bs-backdrop="static"
                 tabindex="-1"
                 aria-hidden="true"
                 role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 id="dns-check-title" class="modal-title">Server name is not unique</h5>
                            <button type="button"
                                    class="btn-close"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div id="dns-check-result"
                                 class="alert alert-danger text-center"
                                 role="alert">Are you sure you want to proceed to the next step?</div>
                            <p class="mt-1 mb-0 text-center">
                                In case of issues, you can manually accept the unsafe cert <a id="check-url"
    class="fw-semibold"
    href="https://www.example.com/setup/check"
    target="_blank"
    rel="noreferrer"
    data-bs-toggle="tooltip"
    data-bs-placement="top"
    data-bs-original-title='If the shown text is "ok", that means that the server name is available'>here</a>.
                            </p>
                        </div>
                        <div class="modal-footer justify-content-center">
                            <button id="confirm-dns"
                                    class="btn btn-outline-danger next-step me-2"
                                    data-bs-dismiss="modal">Proceed</button>
                            <button type="reset"
                                    class="btn btn-outline-secondary"
                                    data-bs-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
        <div class="modal fade"
             id="loadingModal"
             data-bs-backdrop="static"
             tabindex="-1"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content bg-transparent border-0 shadow-none">
                    <div class="modal-body text-center">
                        <div class="d-flex justify-content-center align-items-center w-100">
                            <lottie-player src="{{ url_for('static', filename='json/periscop.min.json') }}" background="transparent"  speed="1" style="width: 300px; height: 300px;" class="img-fluid" loop autoplay></lottie-player>
                        </div>
                        <p class="mt-3 text-white">Setting up your BunkerWeb, please wait...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / Content -->
{% endblock %}
